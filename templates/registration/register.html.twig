{% extends 'base.html.twig' %}

{% block title %}Registrarse{% endblock %}

{% block stylesheets %}
    {# Usamos el mismo estilo que el Login para mantener la coherencia #}
    <link rel="stylesheet" href="{{ asset('css/styleLogin.css') }}">
{% endblock %}

{% block body %}

    <header>
        <a href="{{ path('home') }}">
            <img src="{{ asset('assets/img/logoIcon.webp') }}" alt="Logo" class="logoIcon">
        </a>
    </header>

    <main>
        <div class="login-container">
            <h2 class="login-title">Crear Cuenta</h2>

            {# Mensajes de error de verificación de email (si los usas) #}
            {% for flash_error in app.flashes('verify_email_error') %}
                <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
            {% endfor %}

            {{ form_start(registrationForm) }}

            {# Errores generales del formulario #}
            {% if form_errors(registrationForm) %}
                <div class="alert alert-danger">
                    {{ form_errors(registrationForm) }}
                </div>
            {% endif %}

            {# --- CAMPO NOMBRE DE USUARIO --- #}
            <div class="form-group">
                <label class="form-label">Nombre de usuario</label>
                {{ form_widget(registrationForm.userName, {
                    'attr': {
                        'class': 'form-input',
                        'placeholder': 'Tu nombre público'
                    }
                }) }}
                <div style="color: #ffadad; font-size: 0.9rem; margin-top: 5px;">
                    {{ form_errors(registrationForm.userName) }}
                </div>
            </div>

            {# --- CAMPO EMAIL --- #}
            <div class="form-group">
                <label class="form-label">Correo electrónico</label>
                {{ form_widget(registrationForm.email, {
                    'attr': {
                        'class': 'form-input',
                        'placeholder': 'correo@ejemplo.com'
                    }
                }) }}
                <div style="color: #ffadad; font-size: 0.9rem; margin-top: 5px;">
                    {{ form_errors(registrationForm.email) }}
                </div>
            </div>

            {# --- CAMPO PASSWORD --- #}
            <div class="form-group">
                <label class="form-label">Contraseña</label>
                {{ form_widget(registrationForm.plainPassword, {
                    'attr': {
                        'class': 'form-input',
                        'placeholder': 'Mínimo 6 caracteres'
                    }
                }) }}
                <div style="color: #ffadad; font-size: 0.9rem; margin-top: 5px;">
                    {{ form_errors(registrationForm.plainPassword) }}
                </div>
            </div>

            {#
            NOTA: Hemos omitido deliberadamente form_row(registrationForm.agreeTerms)
            Asegúrate de haberlo quitado también en RegistrationFormType.php
            #}

            <button type="submit" class="btn-login">
                Registrarse
            </button>

            {{ form_end(registrationForm) }}

            {# Enlace para ir al login si ya tienen cuenta #}
            <div style="margin-top: 20px; text-align: center; color: #fff; font-size: 0.9rem;">
                ¿Ya tienes cuenta? <a href="{{ path('app_login') }}" style="color: #c2b46c; text-decoration: underline;">Inicia sesión</a>
            </div>

        </div>
    </main>

    <footer>
        Game Hub &copy; 2025-2026
    </footer>

{% endblock %}